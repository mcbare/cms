<script>
    var reader = new FileReader
    let token = "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"

    function uploadFileApi(token, file) {
        var name = file.name
        var data = reader.readAsDataURL(file);

        var config = {
            method: 'put',
            url: 'https://api.github.com/repos/mcbare/cms/' + name,
            headers: {
                'Authorization': `Bearer ${token}`,
                'Content-Type': 'application/json'
            },
            data: data
        };

        axios(config)
            .then(function (response) {
                console.log(JSON.stringify(response.data));
            })
            .catch(function (error) {
                console.log(error);
            });
    }
    function handleForm() {
        const selectedFile = document.getElementById("input").files[0]
        uploadFileApi(token, selectedFile)
    }
</script>
<html>
    <head>
        <title>Home</title>
    </head>
    <body>
        <p>This is a page for testing GitHub API calls</p>
        <form>
            <input type="file" id="input">
            <input type="button" onclick="handleForm()">
        </form>
    </body>
</html>
